##2.2 加密
---
包的第一个字节为加密密钥，为每次开始通讯之前随机生成.

###传输前加密
将随机生成的随机密钥与服务端和客户端统一协商好的密匙异或后得到一个加密KEY，然后用这个加密KEY逐一对数据包中的其余数据进行异或，得到最终传输的数据包。

###接收数据后解密
接收到数据后，将数据包中的随机密钥与服务端和客户端统一协商好的密匙异或，得到解密KEY，然后再用此解密KEY逐一对接收到的数据包中的其余数据进行异或，得到实际数据包。


##links
---
* [目录](preface.md)
* 上一节：[封包](02.1.md)
* 下一节：[Packet Type](02.3.md)